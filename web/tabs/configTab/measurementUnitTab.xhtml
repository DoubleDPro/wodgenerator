<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:form id="measurementUnitTabForm">
    <h:panelGrid columns="4">
        <p:commandButton id="refreshMeasurementUnit" value="Обновить" updat="measurementUnitDataTable"
                         action="#{measurementUnitBean.showAllMeasurementUnits}"/>
        <p:commandButton id="addMeasurementUnit" value="Добавить" onclick="PF('addMeasurementUnitDialog').show();"/>
        <p:commandButton id="deleteMeasurementUnit" value="Удалить"
                         action="#{measurementUnitBean.deleteSelectedMeasurementUnits}" update="measurementUnitDataTable"/>
    </h:panelGrid>
    <p:dataTable
            id="measurementUnitDataTable"
            var="measurementUnit"
            rowKey="#{measurementUnit.id}"
            value="#{measurementUnitBean.measurementUnits}"
            style="width:100%"
            selection="#{measurementUnitBean.selectedMeasurementUnits}"
            editable="true"
            editMode="cell">
        <p:ajax event="cellEdit" listener="#{measurementUnitBean.editMeasurementUnit}"/>
        <p:column selectionMode="multiple" style="width:10%;text-align:center"/>
        <p:column headerText="Единицы измерения">
                <p:cellEditor>
                    <f:facet name="output"><h:outputText value="#{measurementUnit.name}"/></f:facet>
                    <f:facet name="input"><p:inputText value="#{measurementUnit.name}" label="Единицы измерения"/> </f:facet>
                </p:cellEditor>
        </p:column>
    </p:dataTable>
</h:form>
<p:dialog widgetVar="addMeasurementUnitDialog" resizable="false" closable="false">
    <ui:include src="../../dialogs/configDialogs/addMeasurementUnitDlg.xhtml"/>
</p:dialog>
</html>
